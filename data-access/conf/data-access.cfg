types = "weather";

access = 
{
    queue_len = 10000;
    pullers_len = 20;
    broker_server_addr = "127.0.0.1:425";
    rpc_timeout = 1200000;
    accessers = (  {    topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 1; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 2; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 3; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 4; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 5; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 6; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 7; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 8; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 9; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 10; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 11; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 12; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 13; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 14; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 15; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 16; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 17; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 18; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 19; },
                    {   topic_id = 70029159;
                        token = "minos";
                        package_id = 1;
                        record_count = 1;
                        partition = 20;
                    }
                );
};
preprocess = 
{
    worker_num = 40;
};
preprocess_action = 
{
    weather = ( {   field = "srcid";
                    regex = " srcid\\[(\\d+)\\] "; },
                {   field = "sid";
                    regex = " sid\\[([0-9,]*)\\] "; },
                {   field = "city_name";
                    regex = " city_name\\[([\u4e00-\u9fa5]+)\\] "; },
                {   field = "province_name";
                    regex = " province_name\\[([\u4e00-\u9fa5]+)\\] ";
                }
              );   
};
process = 
{
    worker_num = 40;
    server_addr = "127.0.0.1:20000";
};
